"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t={TNF_EMPTY:0,TNF_WELL_KNOWN:1,TNF_MIME_MEDIA:2,TNF_ABSOLUTE_URI:3,TNF_EXTERNAL_TYPE:4,TNF_UNKNOWN:5,TNF_UNCHANGED:6,TNF_RESERVED:7,RTD_TEXT:"T",RTD_URI:"U",RTD_SMART_POSTER:"Sp",RTD_ALTERNATIVE_CARRIER:"ac",RTD_HANDOVER_CARRIER:"Hc",RTD_HANDOVER_REQUEST:"Hr",RTD_HANDOVER_SELECT:"Hs",BLOCK_SIZE:16,TLV_START:64,TL_LENGTH:4},r=function(t){var r=63&t[0];t.slice(1,1+r),t[0];return Buffer.from(t.slice(r+1)).toString()},e=function(t,r,e){return r||(r="en"),Buffer.from([r.length].concat(Array.prototype.slice.call(Buffer.from(r+t),0)))},n=["","http://www.","https://www.","http://","https://","tel:","mailto:","ftp://anonymous:anonymous@","ftp://ftp.","ftps://","sftp://","smb://","nfs://","ftp://","dav://","news:","telnet://","imap:","rtsp://","urn:","pop:","sip:","sips:","tftp:","btspp://","btl2cap://","btgoep://","tcpobex://","irdaobex://","file://","urn:epc:id:","urn:epc:tag:","urn:epc:pat:","urn:epc:raw:","urn:epc:","urn:nfc:"],o=function(t){var r=n[t[0]];return r||(r=""),r+Buffer.from(t.slice(1)).toString()},f=function(t){var r,e;return n.slice(1).forEach(function(e){r&&"urn:"!==r||0!==t.indexOf(e)||(r=e)}),r||(r=""),e=n.indexOf(r),Buffer.from([e].concat(Array.prototype.slice.call(Buffer.from(t.slice(r.length)),0)))},i=function(t){return Buffer.from(t).toString()},c=function(e,n,f,i,c){return e||(e=t.TNF_EMPTY),n||(n=[]),f||(f=[]),i||(i=[]),n instanceof Array&&(n=Buffer.from(n).toString()),f instanceof Array||(f=Buffer.from(f)),i instanceof Array||(i=Buffer.from(i)),e==t.TNF_WELL_KNOWN&&(n==t.RTD_TEXT?c=r(i):n==t.RTD_URI&&(c=o(i))),{tnf:e,type:n,id:f,payload:i,value:c}},s=function(t){var r=[],e=void 0,n=void 0,o=void 0,f=void 0,i=void 0,c=void 0,s=void 0,p=void 0,a=void 0;for(i=0;i<t.length;i++)c=0===i,s=i===t.length-1,p=t[i].payload.length<255,a=t[i].id.length>0,e=u(c,s,!1,p,a,t[i].tnf),r.push(e),n=Array.prototype.slice.call(Buffer.from(t[i].type),0),r.push(n.length),p?(o=t[i].payload.length,r.push(o)):(o=t[i].payload.length,r.push(o>>24),r.push(o>>16),r.push(o>>8),r.push(255&o)),a&&(f=t[i].id.length,r.push(f)),r=r.concat(n),a&&(r=r.concat(t[i].id)),r=r.concat(Array.prototype.slice.call(t[i].payload,0));return r},p=function(t){return{mb:0!=(128&t),me:0!=(64&t),cf:0!=(32&t),sr:0!=(16&t),il:0!=(8&t),tnf:7&t}},u=function(t,r,e,n,o,f,i){return i||(i=f),t&&(i|=128),r&&(i|=64),e&&(i|=32),n&&(i|=16),o&&(i|=8),i};exports.constants=t,exports.record=c,exports.textRecord=function(r,n,o){return c(t.TNF_WELL_KNOWN,t.RTD_TEXT,o||[],e(r,n))},exports.uriRecord=function(r,e){return c(t.TNF_WELL_KNOWN,t.RTD_URI,e||[],f(r))},exports.absoluteUriRecord=function(r,e,n){return c(t.TNF_ABSOLUTE_URI,r,n||[],e||[])},exports.mimeMediaRecord=function(r,e,n){return c(t.TNF_MIME_MEDIA,r,n||[],e||[])},exports.smartPoster=function(r,e){var n=[];if(!r)throw new Error("Expecting an array of NDEF records");return n=r[0]instanceof Object&&r[0].hasOwnProperty("tnf")?s(r):r,c(t.TNF_WELL_KNOWN,t.RTD_SMART_POSTER,e,n)},exports.emptyRecord=function(){return c(t.TNF_EMPTY,[],[],[])},exports.androidApplicationRecord=function(r){return c(t.TNF_EXTERNAL_TYPE,"android.com:pkg",[],r)},exports.encodeMessage=s,exports.decodeMessage=function(t){for(var r=t.slice(0),e=[],n=void 0,o=void 0,f=0,i=0,s=0,u=[],a=[],T=[];r.length&&(n=r.shift(),o=p(n),f=r.shift(),i=o.sr?r.shift():(255&r.shift())<<24|(255&r.shift())<<16|(255&r.shift())<<8|255&r.shift(),o.il&&(s=r.shift()),u=r.splice(0,f),a=r.splice(0,s),T=r.splice(0,i),e.push(c(o.tnf,u,a,T)),!o.me););return e},exports.decodeTnf=p,exports.encodeTnf=u,exports.isType=function(t,r,e){return t.tnf===r&&i(t)===i(e)};
//# sourceMappingURL=index.min.js.map
